<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>function_10</title>
<script type="text/javascript">

	var cnt =0;
	
	function countUp(){
		return cnt++;
	}
	
	console.log(countUp()); //0 출력 // ++cnt면 1출력 
	console.log("----------------");
	
	function countUp2(){
		var cnt2 =0;
		return ++cnt2;
	}
	
	
	console.log(countUp2()); //1출력 ->계속해도 1만계속나옴
	
	function countUp3(){
		var cnt3=0;//Local variable -> 밑에 closure을 이용하면 free Variable(자유변수)로 변함
		
		//closure
		return function(){
			return ++cnt3;
		}
	}
	var f=countUp3();
	
	//closure 라고 한다 (폐쇄되었다)
	console.log(f()); //-->1 출력 (f)만 출력했을때는 안의 메소드 자체가 출력된다
	
	//참조대상을 없애기
	f=null;
	
	// 클로저,Closure
	//	함수 스코프의 외부로 반환된 내부함수가
	// 	자신이 선언(정의)되었을 때의 스코프(환경,상태)를 기억하는것(lexical scope(선언적 스코프))
	//	함수 스코프가 종료되더라도 클로저함수를 호출하면 클로저함수가 선언되었을 때 만들어진 스코프를 접근할 수 있다
	// 	클로저함수에 의해 접근할 수 있는 변수를 자유변수(Free Variable)이라고 한다
	
	//자유변수는 새롭게 만들어진 것이 아니라 최초의 변수공간을 계속 사용하는 것이므로 값의 변화가 적용되고, 최신값으로 유지된다
	
		
	
</script>
</head>
<body>

</body>
</html>

